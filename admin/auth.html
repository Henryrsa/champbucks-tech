<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Champbucks Admin Login - Secure access to message dashboard" />
  <title>Admin Login | Champbucks Dashboard</title>
  
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="admin.css" />
</head>
<body class="admin-body">
  <!-- FUN LOGIN CONTAINER! üîê -->
  <div class="login-container">
    <!-- Floating Shapes -->
    <div class="floating-shape shape-pink"></div>
    <div class="floating-shape shape-cyan"></div>
    <div class="floating-shape shape-green"></div>
    
    <div class="login-card">
      <!-- Robot Mascot -->
      <div class="login-mascot">
        <div class="robot-head">
          <div class="robot-eye left"></div>
          <div class="robot-eye right"></div>
        </div>
        <div class="robot-body">
          <div class="robot-screen">üîê</div>
        </div>
      </div>
      
      <!-- Login Form -->
      <div class="login-content">
        <h1 class="login-title">
          <i class="bi bi-shield-check me-2"></i>
          Admin Login
        </h1>
        <p class="login-subtitle">Champbucks Dashboard üöÄ</p>
        
        <form id="loginForm">
          <div class="fun-input">
            <label for="password">
              <i class="bi bi-key me-2"></i>Password
            </label>
            <input 
              type="password" 
              class="form-control" 
              id="password" 
              placeholder="Enter admin password" 
              required
              autocomplete="current-password"
            >
          </div>
          
          <div class="login-options">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="rememberMe">
              <label class="form-check-label" for="rememberMe">
                Remember me for 7 days
              </label>
            </div>
          </div>
          
          <button type="submit" class="btn btn-admin btn-lg w-100">
            <i class="bi bi-box-arrow-in-right me-2"></i>
            Unlock Dashboard
          </button>
          
          <!-- Debug Reset Button -->
          <div class="mt-3 text-center">
            <button type="button" class="btn btn-outline-admin btn-sm" onclick="resetToDefaults()" title="Reset to default credentials">
              <i class="bi bi-arrow-clockwise me-2"></i>
              Reset to Default
            </button>
          </div>
        </form>
        
        <!-- Security Info -->
        <div class="security-info">
          <small class="text-muted">
            <i class="bi bi-lock-fill me-1"></i>
            Secure connection required. Default password: <strong>admin</strong>
          </small>
          <small class="text-warning mt-2 d-block">
            <i class="bi bi-bug me-1"></i>
            <strong>Debug Mode ON</strong> - Bypass: <code>bypass123</code>
          </small>
          <small class="text-info mt-1 d-block">
            <i class="bi bi-info-circle me-1"></i>
            Press F12 and check Console for debug info
          </small>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Toast Notification -->
  <div id="toast" class="admin-toast"></div>
  
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Admin JS -->
  <script src="dashboard.js"></script>
  
  <!-- Debug Script -->
  <script>
    // Simple test - isolate the login functionality
    console.log('üîç Debug: Auth page loaded');
    
    // Test form submission
    document.addEventListener('DOMContentLoaded', function() {
      console.log('üîç Debug: DOM loaded');
      
      const loginForm = document.getElementById('loginForm');
      if (loginForm) {
        console.log('‚úÖ Login form found');
        
        loginForm.addEventListener('submit', function(e) {
          console.log('üîç Debug: Form submitted');
          e.preventDefault();
          
          const password = document.getElementById('password').value;
          console.log('üîë Debug: Password entered:', password.length > 0 ? 'YES (' + password.length + ' chars)' : 'NO');
          
          // Simple password check for debugging
          if (password === 'admin' || password === 'bypass123') {
            console.log('‚úÖ Debug: Password correct!');
            alert('‚úÖ Login successful! Testing redirect...');
            
            // Create simple session with correct key
            localStorage.setItem('champbucks_admin_session', JSON.stringify({
              isAuthenticated: true,
              loginTime: Date.now(),
              expiry: Date.now() + (30 * 60 * 1000), // 30 minutes
              rememberMe: false
            }));
            
            setTimeout(() => {
              window.location.href = 'index.html';
            }, 1000);
          } else {
            console.log('‚ùå Debug: Password incorrect');
            alert('‚ùå Password incorrect! Try: "admin"');
          }
        });
      } else {
        console.error('‚ùå Login form not found!');
      }
    });
  </script>
</body>
</html>